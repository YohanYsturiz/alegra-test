(function(t){function e(e){for(var s,r,o=e[0],l=e[1],c=e[2],f=0,p=[];f<o.length;f++)r=o[f],a[r]&&p.push(a[r][0]),a[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);u&&u(e);while(p.length)p.shift()();return n.push.apply(n,c||[]),i()}function i(){for(var t,e=0;e<n.length;e++){for(var i=n[e],s=!0,o=1;o<i.length;o++){var l=i[o];0!==a[l]&&(s=!1)}s&&(n.splice(e--,1),t=r(r.s=i[0]))}return t}var s={},a={app:0},n=[];function r(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=s,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(i,s,function(e){return t[e]}.bind(null,s));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;n.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";var s=i("c21b"),a=i.n(s);a.a},"0477":function(t,e,i){"use strict";var s=i("ae42"),a=i.n(s);a.a},"05c3":function(t,e,i){"use strict";var s=i("9e00"),a=i.n(s);a.a},"1d0e":function(t,e,i){},"31af":function(t,e,i){"use strict";var s=i("9345"),a=i.n(s);a.a},"3a4c":function(t,e,i){},"46c5":function(t,e,i){"use strict";var s=i("c83a"),a=i.n(s);a.a},5359:function(t,e,i){"use strict";var s=i("1d0e"),a=i.n(s);a.a},"56d7":function(t,e,i){"use strict";i.r(e);i("cadf"),i("551c"),i("097d");var s=i("2b0e"),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("Layout",{attrs:{msg:"ImgWordl"}}),i("MainPrimary"),i("Footer")],1)},n=[],r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-header",[i("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":t.activeIndex,mode:"horizontal"},on:{select:t.handleSelect}},[i("el-menu-item",{attrs:{index:"1"}},[t._v(t._s(t.msg))]),i("el-menu-item",{attrs:{index:"2",disabled:""}},[t._v("Info")]),i("el-menu-item",{staticClass:"pull-right",attrs:{index:"3"}},[t._v(" Registrate")]),i("el-menu-item",{staticClass:"pull-right",attrs:{index:"4"}},[t._v(" Iniciar session")])],1),i("div",{staticClass:"line"})],1)},o=[],l={name:"Layout",props:{msg:String},data:function(){return{activeIndex:"1",activeIndex2:"1"}},methods:{handleSelect:function(t,e){console.log(t,e)}}},c=l,u=(i("7e84"),i("2877")),f=Object(u["a"])(c,r,o,!1,null,"2d0eb319",null);f.options.__file="Layout.vue";var p=f.exports,d=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-main",[t.visibility?i("el-row",{staticClass:"row-bg",attrs:{gutter:20,type:"flex",justify:"space-around"}},[i("el-col",{staticClass:"grid-content",attrs:{span:20}},[i("el-card",{staticClass:"bg-purple",attrs:{justify:t.center,shadow:"always"}},[i("div",[i("span",{staticClass:"title-one"},[t._v("Busca una imagen")])]),i("el-row",{attrs:{gutter:10,type:"flex",justify:"center"}},[i("el-col",{attrs:{span:6,xs:12}},[i("input-search")],1),i("el-col",{attrs:{span:2,xs:12}},[i("btn-search")],1)],1)],1)],1)],1):t._e(),t.visibilityLoader?i("el-row",[i("div",{staticClass:"loader"}),i("span",{staticClass:"text-loader"},[t._v(" Buscando imagenes... ")])]):t._e(),t.visibilityList?i("el-row",{staticClass:"row-bg",attrs:{gutter:20,type:"flex",justify:"space-around"}},[i("el-col",{attrs:{span:20}},[i("show-case-img",{attrs:{dataImg:t.infoResponse}})],1)],1):t._e(),t.visibilityFormInvoice?i("el-row",{staticClass:"row-bg",attrs:{gutter:20,type:"flex",justify:"space-around"}},[i("el-col",{attrs:{span:20}},[i("form-create-invoice",{attrs:{dataForm:t.userWinner}})],1)],1):t._e(),i("el-dialog",{attrs:{visible:t.visibilityModal,center:""},on:{"update:visible":function(e){t.visibilityModal=e}}},[i("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"center"}},[i("el-col",{attrs:{span:10}},[i("label",{staticClass:"title-three"},[t._v(" Tenemos un ganador!")])])],1),i("el-row",{attrs:{type:"flex"}},[i("el-col",{attrs:{span:24}},[i("span",{staticClass:"text-info"},[t._v("Gracias por dar likes a la imagenes de nuestros vendedores!, la competencia a finalizado")])])],1),i("el-row",{attrs:{justify:"center",type:"flex"}},[i("el-col",{attrs:{span:12}},[i("el-card",{attrs:{shadow:"hover"}},[i("el-row",{attrs:{type:"flex",justify:"center"}},[i("el-col",{attrs:{span:12}},[i("label",{staticClass:"text-info"},[t._v("Vendedor Ganador")])])],1),i("el-col",{attrs:{span:24}},[i("label",{staticClass:"text-info"},[t._v("Nombre: "+t._s(this.userWinner.name_user))])]),i("el-col",{attrs:{span:24}},[i("label",{staticClass:"text-info"},[t._v("Likes: "+t._s(this.userWinner.likes))])])],1)],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){e.stopPropagation(),t.CreateInvoice()}}},[t._v("Crear factura")])],1)],1)],1)},v=[],m=(i("ac6a"),i("7f7f"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-input",{staticClass:"input-radius",attrs:{placeholder:"Ingrese una palabra","prefix-icon":"el-icon-search"},model:{value:t.inputSearch,callback:function(e){t.inputSearch=e},expression:"inputSearch"}})}),h=[],b=new s["default"],y={name:"InputSearch",created:function(){var t=this;b.$on("searchActive",function(e){t.emitSearch(e,t.inputSearch)})},data:function(){return{inputSearch:""}},methods:{emitSearch:function(t,e){b.$emit("btnChildren",t,e)}}},g=y,_=(i("c5b7"),Object(u["a"])(g,m,h,!1,null,"25e0f8fc",null));_.options.__file="InputSearch.vue";var x=_.exports,I=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-container",[i("el-row",{attrs:{gutter:5}},[i("btn-back-top"),i("el-row",{attrs:{gutter:10,type:"flex",justify:"center"}},[i("el-col",{attrs:{span:24,xs:12}},[i("span",{staticClass:"title-two"},[t._v('Imagenes por la palabra "'+t._s(t.dataImg.word)+'"...')])])],1),i("el-row",{attrs:{gutter:10,type:"flex",justify:"center"}}),t._l(t.infoData,function(t){return i("PosterImg",{key:t.id,attrs:{infoPoster:t}})})],2)],1)},C=[],w=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-button",{staticClass:"btn-sucess-alegra",attrs:{type:"success",round:""},on:{click:function(e){e.stopPropagation(),t.emitSearch()}}},[t._v(" Buscar ")])},k=[],j={name:"BtnSearch",methods:{emitSearch:function(){b.$emit("searchActive",{visibility:!1,visibilityList:!0,visibilityLoader:!0,back:!1})}}},S=j,F=(i("05c3"),Object(u["a"])(S,w,k,!1,null,"2e0c3450",null));F.options.__file="BtnSearch.vue";var L=F.exports,$=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-button",{staticClass:"btn-sucess-alegra",staticStyle:{float:"left"},attrs:{type:"success",icon:"el-icon-caret-left",round:""},on:{click:function(e){t.BackTop()}}},[t._v(" Volver ")])},O=[],P={name:"BtnBackTop",methods:{BackTop:function(){b.$emit("searchActive",{visibility:!0,visibilityList:!1,visibilityLoader:!1,back:!0}),b.$emit("closeInvoice")}}},B=P,M=(i("efd6"),Object(u["a"])(B,$,O,!1,null,"62eed77e",null));M.options.__file="BtnBackTop.vue";var E=M.exports,T=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-col",{attrs:{span:6}},[i("el-card",{staticClass:"border-radius",attrs:{"body-style":{padding:"0px"}}},[i("img",{staticClass:"image bg-img",attrs:{src:t.InfoImg.webformatURL,alt:""}}),i("div",{staticStyle:{padding:"14px"}},[i("span",[t._v(t._s(t.InfoImg.name_user))]),i("div",{staticClass:"bottom clearfix",on:{click:function(e){t.likeImg(t.InfoImg.id_user,t.InfoImg.id)}}},[i("el-tag",{staticClass:"tag-likes",attrs:{size:"mini"}},[i("i",{staticClass:"far fa-thumbs-up"}),t._v(" "+t._s(t.addLikes())+"/20\n                ")])],1)])])],1)},R=[],z={name:"PosterImg",props:{infoPoster:Object},data:function(){return{InfoImg:this.infoPoster,infoLikes:0,valueMaximum:20}},computed:{},methods:{likeImg:function(t,e){console.log("[X] likeImg ");var i={id_user:t,id_img:e};this.validWinner(),b.$emit("likeUser",i)},addLikes:function(){return console.log("sumo (2) --\x3e ",this.infoLikes),this.InfoImg.likes_user>=this.valueMaximum?this.valueMaximum:this.InfoImg.likes_user},validWinner:function(){this.InfoImg.likes_user<this.valueMaximum&&(this.infoLikes+=1)}}},W=z,D=(i("31af"),Object(u["a"])(W,T,R,!1,null,null,null));D.options.__file="PosterImg.vue";var V=D.exports,A={name:"ShowCaseImg",props:{dataImg:Object},components:{InputSearch:x,BtnSearch:L,BtnBackTop:E,PosterImg:V},data:function(){return{currentDate:new Date,infoData:this.dataImg["hits"]}},watch:{infoData:{handler:function(t,e){console.log("escuchas ????")},deep:!0}}},q=A,U=(i("46c5"),Object(u["a"])(q,I,C,!1,null,null,null));U.options.__file="ShowCaseImg.vue";var N=U.exports,J=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-row",{attrs:{span:12,justify:"center"}},[i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"120px"}},[t.visibilityForm?i("div",[i("el-card",{staticClass:"box-card",staticStyle:{width:"100%"}},[i("span",{staticClass:"title-two"},[t._v("Crear Factura")]),i("el-row",{attrs:{span:24,type:"flex",justify:"center"}},[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"Nombre",prop:"name"}},[i("el-input",{attrs:{placeholder:"Nombre y apellido"},model:{value:t.ruleForm.name,callback:function(e){t.$set(t.ruleForm,"name",e)},expression:"ruleForm.name"}})],1)],1)],1),i("el-row",{attrs:{span:24,type:"flex",justify:"center"}},[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"Identificacion",prop:"identificacion"}},[i("el-input",{attrs:{placeholder:"V-00000000"},model:{value:t.ruleForm.identificacion,callback:function(e){t.$set(t.ruleForm,"identificacion",e)},expression:"ruleForm.identificacion"}})],1)],1)],1),i("el-row",{attrs:{span:24,type:"flex",justify:"center"}},[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"Descripcion",prop:"desc"}},[i("el-input",{attrs:{type:"textarea",placeholder:"Indica tu satisfaccion"},model:{value:t.ruleForm.desc,callback:function(e){t.$set(t.ruleForm,"desc",e)},expression:"ruleForm.desc"}})],1)],1)],1),i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm")}}},[t._v("Generar")]),i("el-button",{on:{click:function(e){t.resetForm("ruleForm")}}},[t._v("limpiar")])],1)],1):t._e(),t.visibilityLoader?i("el-col",[i("div",{staticClass:"loader"}),i("span",{staticClass:"text-loader"},[t._v(" "+t._s(t.msgLoader)+" ")])]):t._e()],1),t.visibilityInvoice?i("el-row",{attrs:{type:"flex",justify:"center"}},[i("el-col",{attrs:{span:10}},[i("BtnBackTop")],1),i("el-col",{attrs:{span:24}},[i("ViewInvoice",{attrs:{infoInvoice:t.infoInvoice}})],1)],1):t._e()],1)},G=[],X=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-card",{staticClass:"box-card"},[i("div",{staticClass:"text item"},[i("el-row",{staticClass:"row-bg",attrs:{type:"flex"}},[i("el-col",{attrs:{span:12}},[i("label",{staticClass:"title-three"},[t._v("Factura"),i("label",{staticClass:"text-info"},[t._v(" # "+t._s(t.infoInvoice.id))])])])],1),i("el-row",{staticClass:"row-bg",attrs:{span:12,type:"flex",justify:"start"}},[i("el-col",{attrs:{span:12}},[i("p",{staticClass:"text-info"},[t._v(" Producto: "+t._s(t.infoInvoice.items[0].name))])]),i("el-col",{attrs:{span:12}},[i("p",{staticClass:"text-info-money"},[t._v(" $ "+t._s(t.infoInvoice.items[0].price))])])],1),i("el-row",{staticClass:"row-bg",attrs:{span:12,type:"flex",justify:"start"}},[i("el-col",{attrs:{span:12}},[i("p",{staticClass:"text-info"},[t._v(" Vendedor: "+t._s(t.infoInvoice.seller.name))])])],1),i("el-row",{staticClass:"row-bg",attrs:{span:15,type:"flex",justify:"start"}},[i("el-col",{attrs:{span:15}},[i("p",{staticClass:"text-info"},[t._v(" Fecha Vencimiento: "+t._s(t.infoInvoice.dueDate))])])],1),i("hr",{staticClass:"hr-style"}),i("el-row",{staticClass:"row-bg",attrs:{span:15,type:"flex",justify:"start"}},[i("el-col",{attrs:{span:15}},[i("el-button",{attrs:{type:"success",round:""}},[t._v("Pagar")])],1),i("el-col",{attrs:{span:15}},[i("p",{staticClass:"text-info-money"},[i("label",{staticClass:"text-info"},[t._v(" total: ")]),t._v(" $ "+t._s(t.infoInvoice.items[0].price))])])],1)],1)])},Y=[],H={name:"ViewInvoice",props:{infoInvoice:Object},data:function(){return{context:this.infoInvoice}},computed:{},methods:{}},K=H,Q=(i("0477"),Object(u["a"])(K,X,Y,!1,null,null,null));Q.options.__file="ViewInvoice.vue";var Z=Q.exports,tt=i("bc3a"),et=i.n(tt),it={name:"InvoiceCreate",props:{dataForm:Object},components:{ViewInvoice:Z,BtnBackTop:E},created:function(){var t=this;b.$on("closeInvoice",function(e){t.visibilityInvoice=!1})},data:function(){return{context:this.dataForm,infoContact:{},visibilityLoader:!1,msgLoader:"Creando factura ...",visibilityForm:!0,visibilityInvoice:!1,infoInvoice:{},ruleForm:{name:"",identificacion:"",desc:""},rules:{name:[{required:!0,message:"Por favor ingresa tu nombre completo",trigger:"blur"},{min:3,max:50,message:"Maximo 50 caracteres",trigger:"blur"}],identificacion:[{required:!0,message:"Por favor ingresa tu identifacion",trigger:"blur"},{min:3,max:9,message:"El maximo es de 9 digitos",trigger:"blur"}],desc:[{required:!1,message:"Ingresa una descripcion",trigger:"blur"}]}}},methods:{submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;var i="https://app.alegra.com/api/v1/contacts",s={name:e.ruleForm.name};e.visibilityForm=!1,e.visibilityLoader=!0,fetch(i,{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa("yohanysturiz@gmail.com:02845eb232d5eaff989b")}}).then(function(t){return t.json()}).catch(function(t){return console.error("Error:",t)}).then(function(t){return e.CreateInvoice(t)})})},resetForm:function(t){this.$refs[t].resetFields()},CreateInvoice:function(t){var e=this,i="https://app.alegra.com/api/v1/invoices";t={date:"2015-11-15",dueDate:"2015-12-15",client:t.id,seller:{id:this.context.id_user},items:[{id:1,description:"Imagen!",price:this.context.likes,discount:10,quantity:1}]};fetch(i,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa("yohanysturiz@gmail.com:02845eb232d5eaff989b")}}).then(function(t){return t.json()}).catch(function(t){return console.error("Error:",t)}).then(function(t){return e.SuccesInvoice(t)})},SuccesInvoice:function(t){console.log("A contruir el PDF"),this.infoInvoice=t,this.visibilityLoader=!1,this.visibilityInvoice=!0},finishInvoice:function(){this.visibilityInvoice=!1}}},st=it,at=(i("f4c8"),Object(u["a"])(st,J,G,!1,null,null,null));at.options.__file="FormCreate.vue";var nt=at.exports,rt={name:"MainPrimary",created:function(){var t=this;b.$on("btnChildren",function(e,i){console.log("objeto recibido --\x3e",e),console.log("descriptor ---\x3e",i),e.back?(t.infoResponse={},console.log("volverrrrrrrr!!!",t.infoResponse),t.visibility=e.visibility,t.visibilityList=e.visibilityList,t.visibilityLoader=e.visibilityLoader):(t.visibility=e.visibility,t.visibilityLoader=e.visibilityLoader,t.SearchSellers(e,i))}),b.$on("likeUser",function(e){t.LikeUser(e)})},components:{InputSearch:x,ShowCaseImg:N,BtnSearch:L,FormCreateInvoice:nt},data:function(){return{visibility:!0,visibilityList:!1,visibilityLoader:!1,visibilityFormInvoice:!1,visibilityModal:!1,infoResponse:"",infoSellers:"",valueMaximun:20,userWinner:{}}},methods:{SearchSellers:function(t,e){var i=this,s={headers:{Authorization:"Basic "+btoa("yohanysturiz@gmail.com:02845eb232d5eaff989b")}};et.a.get("https://app.alegra.com/api/v1/sellers/",s).then(function(s){i.infoSellers=s.data,i.searchImgs(t,e)}).catch(function(t){console.error("error",t)})},searchImgs:function(t,e){var i=this,s=e;console.log("filtra por ----\x3e",s),et.a.get("https://pixabay.com/api/?key=10090219-2d4776f756fac1a33b6ccc47a&q=".concat(s,"&image_type=photo")).then(function(e){console.log("imagenes",e.data),e.data.word=s,e.data.sellers=i.infoSellers,i.infoResponse=e.data,i.associateSellersImgs(t)}).catch(function(t){console.error("error",t)})},associateSellersImgs:function(t){for(var e=t,i=this.infoSellers,s=this.infoResponse.hits,a=[],n=0;n<i.length;n++)s[n].name_user=i[n].name,s[n].id_user=i[n].id,s[n].status_user=i[n].status,s[n].likes_user=0,a.push(s[n]);this.infoResponse.hits=a,e.visibilityList&&(this.visibilityLoader=!1),!1===e.back&&(this.visibilityList=e.visibilityList)},LikeUser:function(t){var e,i=this;console.log("[X] likeUser",t),e=this.validateWinner(),this.infoResponse["hits"].forEach(function(s){s.id_user===t.id_user&&!1===e&&i.$set(s,"likes_user",s.likes_user+1)})},validateWinner:function(){var t=this,e=!1,i=0;return this.infoResponse["hits"].forEach(function(s){if(s.likes_user>=t.valueMaximun)return i=t.quantityInvoice(),t.userWinner={name_user:s.name_user,likes:i,id_user:s.id_user},t.visibilityModal=!0,e=!0}),e},quantityInvoice:function(){var t=0;return this.infoResponse["hits"].forEach(function(e){t+=e.likes_user}),t},CreateInvoice:function(){this.visibility=!1,this.visibilityList=!1,this.visibilityModal=!1,this.visibilityFormInvoice=!0}}},ot=rt,lt=(i("57b3"),Object(u["a"])(ot,d,v,!1,null,"8a7df3c6",null));lt.options.__file="MainPrimary.vue";var ct=lt.exports,ut=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-footer",{staticClass:"footer"},[i("el-row",{attrs:{gutter:10}},[i("el-col",{staticClass:"text-footer"},[t._v(" Made by Yohan Ysturiz ")])],1)],1)},ft=[],pt={name:"Footer"},dt=pt,vt=(i("5359"),Object(u["a"])(dt,ut,ft,!1,null,"09873d2a",null));vt.options.__file="Footer.vue";var mt=vt.exports,ht={name:"app",components:{Layout:p,MainPrimary:ct,Footer:mt}},bt=ht,yt=(i("034f"),Object(u["a"])(bt,a,n,!1,null,null,null));yt.options.__file="App.vue";var gt=yt.exports,_t=i("5c96"),xt=i.n(_t),It=(i("0fae"),i("c69f"),i("b2d6")),Ct=i.n(It);s["default"].use(xt.a,{locale:Ct.a}),s["default"].config.productionTip=!1,s["default"].use(xt.a),new s["default"]({render:function(t){return t(gt)}}).$mount("#app")},"57b3":function(t,e,i){"use strict";var s=i("cdb8"),a=i.n(s);a.a},"7e84":function(t,e,i){"use strict";var s=i("90d9"),a=i.n(s);a.a},"8dc3":function(t,e,i){},"90d9":function(t,e,i){},9345:function(t,e,i){},"9e00":function(t,e,i){},aa6f:function(t,e,i){},ae42:function(t,e,i){},c21b:function(t,e,i){},c5b7:function(t,e,i){"use strict";var s=i("8dc3"),a=i.n(s);a.a},c69f:function(t,e,i){},c83a:function(t,e,i){},cdb8:function(t,e,i){},efd6:function(t,e,i){"use strict";var s=i("3a4c"),a=i.n(s);a.a},f4c8:function(t,e,i){"use strict";var s=i("aa6f"),a=i.n(s);a.a}});
//# sourceMappingURL=app.9a710e8d.js.map